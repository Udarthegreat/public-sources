# Miami Dade County bus routes update 2025

This folder contains the Yaml file with the configuration for gtfs janitor for Miami Dade County along with a .osc file that was generated by a previous version of the Yaml file (as of [01fab33](https://github.com/Udarthegreat/public-sources/blob/01fab33ce10c59f328b26c5f82c3e4bfdb358fc4/gtfs%20janitor%20stuff/Miami%20Dade%20County.yaml)). The .osc file has multiple know issues and will not be uploaded, it is the result of a test run with the, at the time, current version of the Yaml file as to find issues that need fixing, I have fixed a few but more will need fixing before I can do the run that I upload the result of.

Below I have attached some notes I have taken while doing the first test run and afterwards, after I loaded it into JOSM, I will likely come up with a few more if I can find a way to visualize the .osc graphically without uploading to the OSM servers (I have not found such a way).

## notes for now

 - In the gtfs file the gtfs `stop_id` maps closest to the OSM `ref` tag so is the `gtfs:stop_id` tag even needed? 
 - Is there a way to tell it to expand road name abbreviations as allot of stop names are something like "SW 107 AV & SW 96 ST" so would need to have the stop names expanded before upload. The thing is that it also has some names that are a combination of name expansion and converting to title case, such as "FAIRWAY HEIGHTS BD @ SW 102 PL". 
 - The Busses have specific seats for wheelchairs if they are riding and the doors of the buses have a expandable platform that can be manually expanded by the driver to make it easier for people in wheelchairs to get on, the issue is that gtfs `wheelchair_boarding` is from what I can tell set to 2 for most of them so I don't know if that value is any good, what should I do about that?
 - it seems to be matching the `rout_ref` incorrectly and possibly the `ref` incorrectly likely due to the reason above (same with `gtfs:stop_id`). (I am unsure of this one)
 - it matched allot of stops that are very distant from one another (as in across the county from each other), an [example image of this](/gtfs%20janitor%20stuff/gtfs%20janitor%20issues_1.png)
 - it also tried to delete stops that are still part of other routes.
 - it failed to match to potentially closer stops that are currently tagged as from a different operator (like Broward transit and the city of miami transit).
 - Sometimes the name of the bus stop in OSM is reversed from what it is in the gtfs file (and also, as mentioned above using abbreviations), as an example the osm name was "Southwest 157th Avenue & Southwest 88th Street" and the expected value was "SW 88 ST / SW 157 AV"
 - doesn't work well with `was:highway=bus_stop` and `old_name=*` (I might just be misunderstanding something here)
 - I would really like to tell it that the old position is better (for example the old position has a shelter and a bus bay , they are obviously the same bus stop but they placed the bus stop in the gtfs funky ([an example image](/gtfs%20janitor%20stuff/gtfs%20janitor%20issues_3.png) and the node I would like to keep the position of [is](https://www.openstreetmap.org/node/1039681177))
 - if there are multiple gtfs bus stops that match to an OSM bus stop it should chose the closer gtfs node
 - allow in the configuration yaml file to provide some local short codes (like for example in Miami Dade county "UM" is understood to mean "University of Miami")
 - At the end it would be nice to have a visualization of the dif created and maybe some editing tools to touch things up a bit. This would also help to ensure that any stops that it didn't show me for review that are obviously placed incorrectly are found and possibly have their position fixed before the final .osc is downloaded and validated in JOSM.
 - I wish that the matches that need review would be grouped by proximity in the order they are shown to you (for example if there are multiple stops in one area (for example around a single station) all of those bus stops should be shown to the user in sequence)
 - let me keep the name of a osm stop as compared to the gtfs name (an [example image](/gtfs%20janitor%20stuff/gtfs%20janitor%20issues_5.png) were I am pretty sure that the OSM nodes name is more correct but the gtfs position is better)
 - it missed a [existing bus stop](https://www.openstreetmap.org/node/1039672817) that is in OSM, this is shown in [two](/gtfs%20janitor%20stuff/gtfs%20janitor%20issues_6.png) [screenshots](/gtfs%20janitor%20stuff/gtfs%20janitor%20issues_7.png) 
 - need to be able to tell it to replace one tag with another, some bus stops have a`gtfs_id` which would be replaced by `gtfs:stop_id`
 - is the `gtfs:feed` tag as entered correct for miami dade transit or would it be something else (I couldn't find anything further then `US-FL` for Florida
 - allot of bus stops ended up without a `name` or `ref` what so ever when reviewing the generated [.osc](/gtfs%20janitor%20stuff/gtfs-janitor-export%20pass_1.osc)
