name: "Miami Dade County (Florida, USA)"


# the bus stops in Miami Dade County can be missing `operator` and `network` tags and only consistently have `public_transport=stop_position` and `bus=yes`
# TODO: look into creating a better filter for miami dade as allot of issues popped up in the test run
candidateNodeFilter: |
    (
        (
        $not($exists($v.tags.public_transport)) or
        $v.tags.public_transport != "stop_position"
        )
        or
        (
        /* We *do* want public_transport=stop_position for other modes of transport, like tram and rail */
        $not($exists($v.tags.bus)) or
        $v.tags.bus = "no"
        )
    )

# the bus stops in Miami Dade County can be missing `operator` and `network` tags and only consistently have `public_transport=stop_position` and `bus=yes`
disusedStopFilter: |
    $contains($v.tags.public_transport, "stop_position") or
    $contains($v.tags.bus, "yes") 

# TODO: possibly use `operator:guid` instead of `gtfs:feed`
stopTags:
    operator: "Miami-Dade Transit"
    operator:short: "MDT"
    name: "{{ stop_name | title }}"
    ref: "{{ stop_id }}"
    network: "MDT"
    network:wikidata: "Q6317384"
    gtfs:feed: "US-FL-MDT"

# TODO: look into whether or not I need to add any stop overrides (likely will need to at Dadeland South and the other metrorail and metromover stops)
gtfsOverrides:
    routes:
        # rail routes overrides
        14457: { route_type: "12" } # METROMOVER INNER LOOP
        14456: { route_type: "12" } # METROMOVER OMNI/BRICKELL OUTER LOOP
        14458: { route_type: "12" } # AIRPORT PEOPLE MOVER
        30315: { route_type: "2" } # All of METRORAIL (doesn't distinguish between green and orange)
    # stops:
    #     68498: { stop_name: "Redmond Technology Station - Bay 8" }